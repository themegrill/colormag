function colormagInit(){var e=function(){jQuery("#cm-masthead .search-form-top").removeClass("show"),jQuery("#cm-content").removeClass("backdrop")};jQuery(document).off("click.colormag",".search-top").on("click.colormag",".search-top",(function(){jQuery(this).next("#cm-masthead .search-form-top").toggleClass("show"),jQuery("#cm-content").toggleClass("backdrop"),setTimeout((function(){jQuery("#cm-masthead .search-form-top input").focus()}),200),function(){var e=jQuery(".cm-desktop-row .search-form-top.show, .cm-mobile-row .search-form-top.show");if(e.length){e.css({right:"",left:""});var o=e[0].getBoundingClientRect(),t=window.innerWidth;o.right>t?(e.css({right:0,left:"auto"}),e.css({"--arrow-right":"10px"})):o.left<0&&(e.css({left:0,right:"auto"}),e.css({"--arrow-left":"10px"}))}}(),jQuery(document).off("keyup.colormag").on("keyup.colormag",(function(o){27===o.keyCode&&jQuery("#cm-masthead .search-form-top").hasClass("show")&&e()})),jQuery(document).off("click.outEvent.colormag").on("click.outEvent.colormag",(function(o){o.target.closest(".cm-top-search")||(e(),jQuery(document).off("click.outEvent.colormag"))}))})),jQuery("#scroll-up").hide(),jQuery(window).off("scroll.colormag").on("scroll.colormag",(function(){jQuery(this).scrollTop()>1e3?jQuery("#scroll-up").fadeIn():jQuery("#scroll-up").fadeOut()})),jQuery("a#scroll-up").off("click.colormag").on("click.colormag",(function(){return jQuery("body,html").animate({scrollTop:0},800),!1})),jQuery(".cm-menu-primary-container .menu-item-has-children"),jQuery(".cm-submenu-toggle").off("click.colormag").on("click.colormag",(function(){jQuery(this).parent(".menu-item-has-children").children("ul.sub-menu").first().slideToggle("1000")})),jQuery(document).off("click.colormag","#cm-primary-nav ul li.menu-item-has-children > a").on("click.colormag","#cm-primary-nav ul li.menu-item-has-children > a",(function(e){var o=jQuery(this).parent(".menu-item-has-children");!o.hasClass("focus")&&jQuery(window).width()<=768&&(o.addClass("focus"),e.preventDefault(),o.children(".sub-menu").css({display:"block"}))}));let o,t=document.getElementsByClassName("cm-header-builder");function i(){if(window.matchMedia("(max-width: 768px)").matches&&jQuery("#cm-masthead .sticky-wrapper, .cm-header-bottom-row .sticky-wrapper, #cm-masthead .headroom").length>=1){var e=jQuery(window).height()-88,o=jQuery("#cm-primary-nav").find("ul").first();o.css("max-height",e),o.addClass("menu-scrollbar")}}var r,a,n,c,s,l,u,d,m,p,f;(o=t.length>0?".cm-header-bottom-row":".cm-primary-nav","complete"===document.readyState?i():jQuery(window).off("load.colormag").on("load.colormag",i),jQuery(".wp-block-group__inner-container h2").wrap('<div class="block-title"></div>'),jQuery(".wp-block-heading").wrap('<div class="block-title"></div>'),void 0!==jQuery.fn.magnificPopup&&(jQuery(".image-popup").magnificPopup({type:"image"}),jQuery(".gallery").find('a[href*=".jpg"], a[href*=".jpeg"], a[href*=".png"], a[href*=".gif"], a[href*=".ico"]').magnificPopup({type:"image",gallery:{enabled:!0}}),jQuery(".colormag-ticker-news-popup-link").magnificPopup({type:"ajax",callbacks:{parseAjax:function(e){var o=jQuery.magnificPopup.instance,t=jQuery(o.currItem.el[0]).data("fragment");e.data=jQuery(e.data).find(t)}}})),void 0!==jQuery.fn.fitVids&&jQuery(".fitvids-video").fitVids(),void 0!==jQuery.fn.newsTicker&&jQuery(".newsticker").newsTicker({row_height:20,max_rows:1,speed:1e3,direction:"down",duration:4e3,autostart:1,pauseOnHover:1,start:function(){jQuery(".newsticker").css("visibility","visible")}}),void 0!==jQuery.fn.sticky)&&((y=jQuery("#wpadminbar")).length?jQuery(o).sticky({topSpacing:y.height(),zIndex:999}):jQuery(o).sticky({topSpacing:0,zIndex:999}));if(jQuery(".wp-block-search__input").attr("placeholder","Search posts"),void 0!==jQuery.fn.headroom){var g=jQuery(o).offset().top,y=jQuery("#wpadminbar"),h=jQuery(o).width();y.length&&(g=y.height()+jQuery(o).offset().top),jQuery(o).headroom({offset:g,tolerance:0,onPin:function(){y.length?jQuery(o).css({top:y.height(),position:"fixed",width:h}):jQuery(o).css({top:0,position:"fixed","z-index":999,width:h})},onTop:function(){jQuery(o).css({top:0,position:"relative"})}})}if(void 0!==jQuery.fn.bxSlider&&(jQuery(".cm-slider-area-rotate").bxSlider({mode:"horizontal",speed:1500,auto:!0,pause:5e3,adaptiveHeight:!0,nextText:"",prevText:"",nextSelector:".slide-next",prevSelector:".slide-prev",pager:!1,tickerHover:!0,onSliderLoad:function(){jQuery(".cm-slider-area-rotate").css("visibility","visible"),jQuery(".cm-slider-area-rotate").css("height","auto")}}),jQuery(".blog .gallery-images, .archive .gallery-images, .search .gallery-images, .single-post .gallery-images").bxSlider({mode:"fade",speed:1500,auto:!0,pause:3e3,adaptiveHeight:!0,nextText:"",prevText:"",nextSelector:".slide-next",prevSelector:".slide-prev",pager:!1})),void 0!==jQuery.fn.easytabs&&jQuery(".cm-tabbed-widget").easytabs(),void 0!==jQuery.fn.theiaStickySidebar&&"undefined"!=typeof ResizeSensor){var j=jQuery("#site-navigation-sticky-wrapper").outerHeight();null===j&&(j=0),jQuery("#cm-primary, #cm-secondary, #tertiary").theiaStickySidebar({additionalMarginTop:40+j})}function v(e){e.find(".player-frame").each((function(){var e=jQuery(this),o=jQuery('[data-id="'+e.attr("id")+'"]');e.addVideoEvent("play",(function(e,t,i){o.removeClass("is-paused").addClass("is-playing")})),e.addVideoEvent("pause",(function(e,t,i){o.removeClass("is-playing").addClass("is-paused")})),e.addVideoEvent("finish",(function(e,t,i){o.removeClass("is-paused is-playing")}))}))}if(jQuery(".video-player").each((function(e){var o=jQuery(this),t="video-playlist-item-"+e,i=jQuery(this).find(".player-frame");o.attr("id",t),i.video(),v(o),i.addVideoEvent("ready",(function(){i.css("visibility","visible").fadeIn()})),o.off("click.colormag",".video-playlist-item").on("click.colormag",".video-playlist-item",(function(){var e=jQuery(this),t=e.data("id"),i=jQuery("#"+t),r=e.data("src");o.find(".player-frame").each((function(){jQuery(this).pauseVideo().hide()})),i.length?i.playVideo():(o.find(".video-frame").append('<iframe id="'+t+'" class="player-frame" src="'+r+'" frameborder="0" width="100%" height="434" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),(i=jQuery("#"+t)).video(),i.addVideoEvent("ready",(function(e,o,t){i.playVideo()}))),i.css("visibility","visible").fadeIn(),v(o)}))})),"undefined"!=typeof google&&"undefined"!=typeof colormag_google_maps_widget_settings){r=parseFloat(colormag_google_maps_widget_settings.longitude),a=parseFloat(colormag_google_maps_widget_settings.latitude),n=parseInt(colormag_google_maps_widget_settings.zoom_size),c={lat:a,lng:r},s=new google.maps.Map(document.getElementById("GoogleMaps"),{zoom:n,center:c}),new google.maps.Marker({position:c,map:s}),jQuery("#GoogleMaps").css({height:colormag_google_maps_widget_settings.height})}m=jQuery(".share-buttons #facebook")[0],p=jQuery(".share-buttons #twitter")[0],f=jQuery(".share-buttons #pinterest")[0],m&&jQuery(m).off("click.colormag").on("click.colormag",(function(e){return e.preventDefault(),(l=window.open("https://www.facebook.com/sharer/sharer.php?u="+document.URL+"&p[title]="+document.title,"facebook-popup","height=350,width=600")).focus&&l.focus(),!1})),p&&jQuery(p).off("click.colormag").on("click.colormag",(function(e){return e.preventDefault(),(u=window.open("https://twitter.com/share?text="+document.title+"&url="+document.URL,"twitter-popup","height=350,width=600")).focus&&u.focus(),!1})),f&&jQuery(f).off("click.colormag").on("click.colormag",(function(e){e.preventDefault();var o=jQuery(".cm-posts .cm-featured-image img").attr("src")?jQuery(".cm-posts .cm-featured-image img").attr("src"):"";return(d=window.open("https://pinterest.com/pin/create/button/?url="+document.URL+"&media="+o+"&description="+document.title,"pinterest-popup","height=350,width=600")).focus&&d.focus(),!1}))}if(jQuery(document).ready((function(){colormagInit()})),"undefined"!=typeof wp&&wp.customize&&(wp.customize.bind("preview-ready",(function(){colormagInit()})),wp.customize.preview&&(wp.customize.preview.bind("url",(function(){colormagInit()})),wp.customize.preview.bind("section",(function(){colormagInit()}))),wp.customize.bind("change",(function(){setTimeout((function(){colormagInit()}),100)})),wp.customize.bind("preview-url",(function(){colormagInit()}))),"undefined"!=typeof MutationObserver){var observer=new MutationObserver((function(e){var o=!1;e.forEach((function(e){if("childList"===e.type){var t=e.target;t&&(t.classList.contains("cm-header-builder")||t.classList.contains("cm-desktop-row")||t.classList.contains("cm-mobile-row")||t.closest(".cm-header-builder"))&&(o=!0)}})),o&&setTimeout((function(){colormagInit()}),50)}));jQuery(document).ready((function(){var e=document.querySelector(".cm-header-builder");e&&observer.observe(e,{childList:!0,subtree:!0})}))}