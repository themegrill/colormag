jQuery(document).ready((function(){var e,i,t,r,a,s,o,n,d,l,u,c=function(){jQuery("#cm-masthead .search-form-top").removeClass("show")};if(jQuery(".search-top").click((function(){jQuery(this).next("#cm-masthead .search-form-top").toggleClass("show"),setTimeout((function(){jQuery("#cm-masthead .search-form-top input").focus()}),200),jQuery(document).on("keyup",(function(e){27===e.keyCode&&jQuery("#cm-masthead .search-form-top").hasClass("show")&&c()})),jQuery(document).on("click.outEvent",(function(e){e.target.closest(".cm-top-search")||(c(),jQuery(document).off("click.outEvent"))}))})),jQuery("#scroll-up").hide(),jQuery(window).scroll((function(){jQuery(this).scrollTop()>1e3?jQuery("#scroll-up").fadeIn():jQuery("#scroll-up").fadeOut()})),jQuery("a#scroll-up").click((function(){return jQuery("body,html").animate({scrollTop:0},800),!1})),jQuery(".cm-menu-primary-container .menu-item-has-children").append('<span class="cm-sub-toggle"> <i class="fa fa-angle-right"></i> </span>'),jQuery(".cm-menu-primary-container .cm-sub-toggle").click((function(){jQuery(this).parent(".menu-item-has-children").children("ul.sub-menu").first().slideToggle("1000"),jQuery(this).children(".fa-angle-right").first().toggleClass("fa-angle-down")})),jQuery(document).on("click","#cm-primary-nav ul li.menu-item-has-children > a",(function(e){var i=jQuery(this).parent(".menu-item-has-children");!i.hasClass("focus")&&jQuery(window).width()<=768&&(i.addClass("focus"),e.preventDefault(),i.children(".sub-menu").css({display:"block"}))})),jQuery(window).on("load",(function(){if(window.matchMedia("(max-width: 768px)").matches&&jQuery("#cm-masthead .sticky-wrapper, #cm-masthead .headroom").length>=1){var e=jQuery(window).height()-88,i=jQuery("#cm-primary-nav").find("ul").first();i.css("max-height",e),i.addClass("menu-scrollbar")}})),jQuery(".wp-block-group__inner-container h2").wrap('<div class="block-title"></div>'),void 0!==jQuery.fn.magnificPopup&&(jQuery(".image-popup").magnificPopup({type:"image"}),jQuery(".gallery").find('a[href*=".jpg"], a[href*=".jpeg"], a[href*=".png"], a[href*=".gif"], a[href*=".ico"]').magnificPopup({type:"image",gallery:{enabled:!0}}),jQuery(".colormag-ticker-news-popup-link").magnificPopup({type:"ajax",callbacks:{parseAjax:function(e){var i=jQuery.magnificPopup.instance,t=jQuery(i.currItem.el[0]).data("fragment");e.data=jQuery(e.data).find(t)}}})),void 0!==jQuery.fn.fitVids&&jQuery(".fitvids-video").fitVids(),void 0!==jQuery.fn.newsTicker){if("undefined"!=typeof colormag_ticker_settings){var h=colormag_ticker_settings.breaking_news_slide_effect,p=parseInt(colormag_ticker_settings.breaking_news_duration,10),y=parseInt(colormag_ticker_settings.breaking_news_speed,10);jQuery(".newsticker").newsTicker({row_height:20,max_rows:1,direction:h,speed:y,duration:p,autostart:1,pauseOnHover:1,start:function(){jQuery(".newsticker").css("visibility","visible")}})}var g=jQuery(".cm-breaking-news");jQuery(g).each((function(){!function(e,i,t,r,a,s,o){jQuery(e).newsTicker({row_height:s,max_rows:o,duration:a,direction:r,prevButton:jQuery(i),nextButton:jQuery(t),start:function(){jQuery(".cm-breaking-news-slider-widget").css("visibility","visible")}})}(jQuery(this).children(".cm-breaking-news-slider-widget"),jQuery(this).children(".fa-arrow-up"),jQuery(this).children(".fa-arrow-down"),jQuery(this).children(".cm-breaking-news-slider-widget").data("direction"),jQuery(this).children(".cm-breaking-news-slider-widget").data("duration"),jQuery(this).children(".cm-breaking-news-slider-widget").data("rowheight"),jQuery(this).children(".cm-breaking-news-slider-widget").data("maxrows"))}))}void 0!==jQuery.fn.sticky&&((f=jQuery("#wpadminbar")).length?jQuery("#cm-primary-nav").sticky({topSpacing:f.height(),zIndex:999}):jQuery("#cm-primary-nav").sticky({topSpacing:0,zIndex:999}));if(jQuery(".wp-block-search__input").attr("placeholder","Search posts"),jQuery(".wp-element-button").wrap('<button class="search-icon" type="submit"></button>'),void 0!==jQuery.fn.headroom){var m=jQuery("#cm-primary-nav").offset().top,f=jQuery("#wpadminbar"),j=jQuery(".cm-primary-nav").width();f.length&&(m=f.height()+jQuery("#cm-primary-nav").offset().top),jQuery(".cm-primary-nav").headroom({offset:m,tolerance:0,onPin:function(){f.length?jQuery(".cm-primary-nav").css({top:f.height(),position:"fixed",width:j}):jQuery(".cm-primary-nav").css({top:0,position:"fixed",width:j})},onTop:function(){jQuery(".cm-primary-nav").css({top:0,position:"relative"})}})}if(void 0!==jQuery.fn.bxSlider){var Q=jQuery(".cm-featured-category-slider ");jQuery(Q).each((function(){!function(e,i,t,r,a,s){jQuery(e).bxSlider({mode:i,speed:t,auto:a,pause:r,autoHover:s,adaptiveHeight:!0,nextText:'<div class="cm-category-slide-next"><i class="fa fa-angle-right"></i></div>',prevText:'<div class="cm-category-slide-prev"><i class="fa fa-angle-left"></i></div>',pager:!1,tickerHover:!0,onSliderLoad:function(){jQuery(".cm-slider-area-rotate").css("visibility","visible"),jQuery(".cm-slider-area-rotate").css("height","auto")}})}(jQuery(this).children(".cm-slider-area-rotate"),jQuery(this).children(".cm-slider-area-rotate").data("mode"),jQuery(this).children(".cm-slider-area-rotate").data("speed"),jQuery(this).children(".cm-slider-area-rotate").data("pause"),jQuery(this).children(".cm-slider-area-rotate").data("auto"),jQuery(this).children(".cm-slider-area-rotate").data("hover"))}));var v=jQuery(".cm-posts");jQuery(v).each((function(){!function(e,i,t,r,a){jQuery(e).bxSlider({minSlides:1,maxSlides:2,slideWidth:390,slideMargin:20,speed:i,pause:t,auto:r,autoHover:a,adaptiveHeight:!0,nextText:'<div class="slide-next"><i class="fa fa-angle-right"></i></div>',prevText:'<div class="slide-prev"><i class="fa fa-angle-left"></i></div>',pager:!1,captions:!1,onSliderLoad:function(){jQuery(".cm-featured-posts--style-5 .cm-highlighted-post").css("visibility","visible"),jQuery(".cm-featured-posts--style-5 .cm-highlighted-post").css("height","auto")}})}(jQuery(this).children(".cm-featured-posts--style-5 .cm-highlighted-post"),jQuery(this).children(".cm-featured-posts--style-5 .cm-highlighted-post").data("speed"),jQuery(this).children(".cm-featured-posts--style-5 .cm-highlighted-post").data("pause"),jQuery(this).children(".cm-featured-posts--style-5 .cm-highlighted-post").data("auto"),jQuery(this).children(".cm-featured-posts--style-5 .cm-highlighted-post").data("hover"))}));var w=jQuery(".cm-thumbnail-slider-news");jQuery(w).each((function(){!function(e,i,t,r,a,s,o){jQuery(e).bxSlider({mode:t,speed:r,pause:a,auto:s,pagerCustom:i,autoHover:o,controls:!1,nextText:"",prevText:"",nextSelector:"",prevSelector:"",captions:!1,onSliderLoad:function(){jQuery(".thumbnail-big-sliders").css("visibility","visible"),jQuery(".thumbnail-big-sliders").css("height","auto")}})}(jQuery(this).children(".thumbnail-big-sliders"),jQuery(this).children(".cm-thumbnail-slider"),jQuery(this).children(".thumbnail-big-sliders").data("mode"),jQuery(this).children(".thumbnail-big-sliders").data("speed"),jQuery(this).children(".thumbnail-big-sliders").data("pause"),jQuery(this).children(".thumbnail-big-sliders").data("auto"),jQuery(this).children(".thumbnail-big-sliders").data("hover"))}));var b=jQuery(".cm-featured-posts--style-7");jQuery(b).each((function(){!function(e,i){jQuery(e).bxSlider({minSlides:5,maxSlides:8,slideWidth:150,slideMargin:12,ticker:!0,speed:i,tickerHover:!0,useCSS:!1,onSliderLoad:function(){jQuery(".cm-image-ticker-news").css("visibility","visible"),jQuery(".cm-image-ticker-news").css("height","auto")}})}(jQuery(this).children(".cm-image-ticker-news"),jQuery(this).children(".cm-image-ticker-news").data("speed"))})),jQuery(".blog .gallery-images, .archive .gallery-images, .search .gallery-images, .single-post .gallery-images").bxSlider({mode:"fade",speed:1500,auto:!0,pause:3e3,adaptiveHeight:!0,nextText:"",prevText:"",nextSelector:".slide-next",prevSelector:".slide-prev",pager:!1}),jQuery(window).on("load colormagAjaxSinglePostLoaded",(function(){jQuery(".related-post-carousel").bxSlider({minSlides:1,maxSlides:2,auto:!0,slideWidth:390,slideMargin:20,moveSlides:1,shrinkItems:!0,speed:3e3,autoHover:!0,nextText:'<div class="slide-next"><i class="fa fa-angle-right"></i></div>',prevText:'<div class="slide-prev"><i class="fa fa-angle-left"></i></div>',pager:!1,captions:!1,onSliderLoad:function(){jQuery(".related-post-carousel").css("visibility","visible"),jQuery(".related-post-carousel").css("height","auto")}})}))}if(void 0!==jQuery.fn.easytabs&&jQuery(".cm-tabbed-widget").easytabs(),void 0!==jQuery.fn.theiaStickySidebar&&"undefined"!=typeof ResizeSensor){var _=jQuery("#site-navigation-sticky-wrapper").outerHeight();null===_&&(_=0),jQuery("#cm-primary, #cm-secondary, #tertiary").theiaStickySidebar({additionalMarginTop:40+_})}function k(e){e.find(".player-frame").each((function(){var e=jQuery(this),i=jQuery('[data-id="'+e.attr("id")+'"]');e.addVideoEvent("play",(function(e,t,r){i.removeClass("is-paused").addClass("is-playing")})),e.addVideoEvent("pause",(function(e,t,r){i.removeClass("is-playing").addClass("is-paused")})),e.addVideoEvent("finish",(function(e,t,r){i.removeClass("is-paused is-playing")}))}))}if(jQuery(".video-player").each((function(e){var i=jQuery(this),t="video-playlist-item-"+e,r=jQuery(this).find(".player-frame");i.attr("id",t),r.video(),k(i),r.addVideoEvent("ready",(function(){r.css("visibility","visible").fadeIn()})),i.on("click",".video-playlist-item",(function(){var e=jQuery(this),t=e.data("id"),r=jQuery("#"+t),a=e.data("src");i.find(".player-frame").each((function(){jQuery(this).pauseVideo().hide()})),r.length?r.playVideo():(i.find(".video-frame").append('<iframe id="'+t+'" class="player-frame" src="'+a+'" frameborder="0" width="100%" height="434" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),(r=jQuery("#"+t)).video(),r.addVideoEvent("ready",(function(e,i,t){r.playVideo()}))),r.css("visibility","visible").fadeIn(),k(i)}))})),void 0!==jQuery.fn.prognroll&&jQuery("body").prognroll({height:5,color:colormag_progress_bar_indicator_color.bg_color,custom:!1}),"undefined"!=typeof google&&"undefined"!=typeof colormag_google_maps_widget_settings){e=parseFloat(colormag_google_maps_widget_settings.longitude),i=parseFloat(colormag_google_maps_widget_settings.latitude),t=parseInt(colormag_google_maps_widget_settings.zoom_size),r={lat:i,lng:e},a=new google.maps.Map(document.getElementById("GoogleMaps"),{zoom:t,center:r}),new google.maps.Marker({position:r,map:a}),jQuery("#GoogleMaps").css({height:colormag_google_maps_widget_settings.height})}d=jQuery(".share-buttons #facebook")[0],l=jQuery(".share-buttons #twitter")[0],u=jQuery(".share-buttons #pinterest")[0],d&&jQuery(d).click((function(e){return e.preventDefault(),(s=window.open("https://www.facebook.com/sharer/sharer.php?u="+document.URL+"&p[title]="+document.title,"facebook-popup","height=350,width=600")).focus&&s.focus(),!1})),l&&jQuery(l).click((function(e){return e.preventDefault(),(o=window.open("https://twitter.com/share?text="+document.title+"&url="+document.URL,"twitter-popup","height=350,width=600")).focus&&o.focus(),!1})),u&&jQuery(u).click((function(e){e.preventDefault();var i=jQuery(".cm-posts .featured-image img").attr("src")?jQuery(".cm-posts .featured-image img").attr("src"):"";return(n=window.open("https://pinterest.com/pin/create/button/?url="+document.URL+"&media="+i+"&description="+document.title,"pinterest-popup","height=350,width=600")).focus&&n.focus(),!1}))})),jQuery((function(){var e=jQuery("#related-posts-wrapper-flyout");function i(){jQuery("#cm-primary").outerHeight();var i=jQuery(this).scrollTop()+jQuery(this).height();i>jQuery(document).height()-i?e.addClass("flyout"):e.removeClass("flyout")}jQuery(window).on("scroll",i),jQuery("#flyout-related-post-close").click((function(){e.removeClass("flyout"),jQuery(window).off("scroll",i)}))}));
