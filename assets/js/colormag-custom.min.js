jQuery(document).ready((function(){var e,t,i,r,a,o,n,s,u,c,l,d=function(){jQuery("#cm-masthead .search-form-top").removeClass("show"),jQuery("#cm-content").removeClass("backdrop")};(jQuery(".search-top").click((function(){jQuery(this).next("#cm-masthead .search-form-top").toggleClass("show"),jQuery("#cm-content").toggleClass("backdrop"),setTimeout((function(){jQuery("#cm-masthead .search-form-top input").focus()}),200),jQuery(document).on("keyup",(function(e){27===e.keyCode&&jQuery("#cm-masthead .search-form-top").hasClass("show")&&d()})),jQuery(document).on("click.outEvent",(function(e){e.target.closest(".cm-top-search")||(d(),jQuery(document).off("click.outEvent"))}))})),jQuery("#scroll-up").hide(),jQuery(window).scroll((function(){jQuery(this).scrollTop()>1e3?jQuery("#scroll-up").fadeIn():jQuery("#scroll-up").fadeOut()})),jQuery("a#scroll-up").click((function(){return jQuery("body,html").animate({scrollTop:0},800),!1})),jQuery(".cm-menu-primary-container .menu-item-has-children").append('<span class="cm-sub-toggle"> <i class="fa fa-angle-right"></i> </span>'),jQuery(".cm-menu-primary-container .cm-sub-toggle").click((function(){jQuery(this).parent(".menu-item-has-children").children("ul.sub-menu").first().slideToggle("1000"),jQuery(this).children(".fa-angle-right").first().toggleClass("fa-angle-down")})),jQuery(document).on("click","#cm-primary-nav ul li.menu-item-has-children > a",(function(e){var t=jQuery(this).parent(".menu-item-has-children");!t.hasClass("focus")&&jQuery(window).width()<=768&&(t.addClass("focus"),e.preventDefault(),t.children(".sub-menu").css({display:"block"}))})),jQuery(window).on("load",(function(){if(window.matchMedia("(max-width: 768px)").matches&&jQuery("#cm-masthead .sticky-wrapper, #cm-masthead .headroom").length>=1){var e=jQuery(window).height()-88,t=jQuery("#cm-primary-nav").find("ul").first();t.css("max-height",e),t.addClass("menu-scrollbar")}})),jQuery(".wp-block-group__inner-container h2").wrap('<div class="block-title"></div>'),void 0!==jQuery.fn.magnificPopup&&(jQuery(".image-popup").magnificPopup({type:"image"}),jQuery(".gallery").find('a[href*=".jpg"], a[href*=".jpeg"], a[href*=".png"], a[href*=".gif"], a[href*=".ico"]').magnificPopup({type:"image",gallery:{enabled:!0}}),jQuery(".colormag-ticker-news-popup-link").magnificPopup({type:"ajax",callbacks:{parseAjax:function(e){var t=jQuery.magnificPopup.instance,i=jQuery(t.currItem.el[0]).data("fragment");e.data=jQuery(e.data).find(i)}}})),void 0!==jQuery.fn.fitVids&&jQuery(".fitvids-video").fitVids(),void 0!==jQuery.fn.newsTicker&&jQuery(".newsticker").newsTicker({row_height:20,max_rows:1,speed:1e3,direction:"down",duration:4e3,autostart:1,pauseOnHover:1,start:function(){jQuery(".newsticker").css("visibility","visible")}}),void 0!==jQuery.fn.sticky)&&((y=jQuery("#wpadminbar")).length?jQuery("#cm-primary-nav").sticky({topSpacing:y.height(),zIndex:999}):jQuery("#cm-primary-nav").sticky({topSpacing:0,zIndex:999}));if(jQuery(".wp-block-search__input").attr("placeholder","Search posts"),jQuery(".wp-element-button").wrap('<button class="search-icon" type="submit"></button>'),void 0!==jQuery.fn.headroom){var p=jQuery("#cm-primary-nav").offset().top,y=jQuery("#wpadminbar"),m=jQuery(".cm-primary-nav").width();y.length&&(p=y.height()+jQuery("#cm-primary-nav").offset().top),jQuery(".cm-primary-nav").headroom({offset:p,tolerance:0,onPin:function(){y.length?jQuery(".cm-primary-nav").css({top:y.height(),position:"fixed",width:m}):jQuery(".cm-primary-nav").css({top:0,position:"fixed",width:m})},onTop:function(){jQuery(".cm-primary-nav").css({top:0,position:"relative"})}})}if(void 0!==jQuery.fn.bxSlider&&(jQuery(".cm-slider-area-rotate").bxSlider({mode:"horizontal",speed:1500,auto:!0,pause:5e3,adaptiveHeight:!0,nextText:"",prevText:"",nextSelector:".slide-next",prevSelector:".slide-prev",pager:!1,tickerHover:!0,onSliderLoad:function(){jQuery(".cm-slider-area-rotate").css("visibility","visible"),jQuery(".cm-slider-area-rotate").css("height","auto")}}),jQuery(".blog .gallery-images, .archive .gallery-images, .search .gallery-images, .single-post .gallery-images").bxSlider({mode:"fade",speed:1500,auto:!0,pause:3e3,adaptiveHeight:!0,nextText:"",prevText:"",nextSelector:".slide-next",prevSelector:".slide-prev",pager:!1})),void 0!==jQuery.fn.easytabs&&jQuery(".cm-tabbed-widget").easytabs(),void 0!==jQuery.fn.theiaStickySidebar&&"undefined"!=typeof ResizeSensor){var f=jQuery("#site-navigation-sticky-wrapper").outerHeight();null===f&&(f=0),jQuery("#cm-primary, #cm-secondary, #tertiary").theiaStickySidebar({additionalMarginTop:40+f})}function h(e){e.find(".player-frame").each((function(){var e=jQuery(this),t=jQuery('[data-id="'+e.attr("id")+'"]');e.addVideoEvent("play",(function(e,i,r){t.removeClass("is-paused").addClass("is-playing")})),e.addVideoEvent("pause",(function(e,i,r){t.removeClass("is-playing").addClass("is-paused")})),e.addVideoEvent("finish",(function(e,i,r){t.removeClass("is-paused is-playing")}))}))}if(jQuery(".video-player").each((function(e){var t=jQuery(this),i="video-playlist-item-"+e,r=jQuery(this).find(".player-frame");t.attr("id",i),r.video(),h(t),r.addVideoEvent("ready",(function(){r.css("visibility","visible").fadeIn()})),t.on("click",".video-playlist-item",(function(){var e=jQuery(this),i=e.data("id"),r=jQuery("#"+i),a=e.data("src");t.find(".player-frame").each((function(){jQuery(this).pauseVideo().hide()})),r.length?r.playVideo():(t.find(".video-frame").append('<iframe id="'+i+'" class="player-frame" src="'+a+'" frameborder="0" width="100%" height="434" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),(r=jQuery("#"+i)).video(),r.addVideoEvent("ready",(function(e,t,i){r.playVideo()}))),r.css("visibility","visible").fadeIn(),h(t)}))})),"undefined"!=typeof google&&"undefined"!=typeof colormag_google_maps_widget_settings){e=parseFloat(colormag_google_maps_widget_settings.longitude),t=parseFloat(colormag_google_maps_widget_settings.latitude),i=parseInt(colormag_google_maps_widget_settings.zoom_size),r={lat:t,lng:e},a=new google.maps.Map(document.getElementById("GoogleMaps"),{zoom:i,center:r}),new google.maps.Marker({position:r,map:a}),jQuery("#GoogleMaps").css({height:colormag_google_maps_widget_settings.height})}u=jQuery(".share-buttons #facebook")[0],c=jQuery(".share-buttons #twitter")[0],l=jQuery(".share-buttons #pinterest")[0],u&&jQuery(u).click((function(e){return e.preventDefault(),(o=window.open("https://www.facebook.com/sharer/sharer.php?u="+document.URL+"&p[title]="+document.title,"facebook-popup","height=350,width=600")).focus&&o.focus(),!1})),c&&jQuery(c).click((function(e){return e.preventDefault(),(n=window.open("https://twitter.com/share?text="+document.title+"&url="+document.URL,"twitter-popup","height=350,width=600")).focus&&n.focus(),!1})),l&&jQuery(l).click((function(e){e.preventDefault();var t=jQuery(".cm-posts .cm-featured-image img").attr("src")?jQuery(".cm-posts .cm-featured-image img").attr("src"):"";return(s=window.open("https://pinterest.com/pin/create/button/?url="+document.URL+"&media="+t+"&description="+document.title,"pinterest-popup","height=350,width=600")).focus&&s.focus(),!1}))})),jQuery((function(){var e=jQuery("#related-posts-wrapper-flyout");function t(){jQuery("#cm-primary").outerHeight();var t=jQuery(this).scrollTop()+jQuery(this).height();t>jQuery(document).height()-t?e.addClass("flyout"):e.removeClass("flyout")}jQuery(window).on("scroll",t),jQuery("#flyout-related-post-close").click((function(){e.removeClass("flyout"),jQuery(window).off("scroll",t)}))}));